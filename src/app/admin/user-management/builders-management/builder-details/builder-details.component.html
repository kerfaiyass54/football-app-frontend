<app-loader [visible]="loading()"></app-loader>

@if (!loading()) {

  <div class="builder-wrapper">

    <div class="builder-card">

      <div class="builder-header">
        <h2 class="builder-name">{{ builder?.name }}</h2>
        <span class="expertise-badge">
          {{ builder?.expertise }}
        </span>
      </div>

      <div class="builder-info">

        @if(builder?.nationality){
          <div class="info-box nationality">
            <img
              [src]="'https://flagcdn.com/w40/' + countryCode + '.png'"
              class="flag-img"
              alt="flag"
            />
            <span>{{ builder?.nationality }}</span>
          </div>
        }

        <div class="info-box">
          <i class="bi bi-calendar-event"></i>
          <span>{{ builder?.yearEstablished }}</span>
        </div>

        <div class="info-box price">
          <i class="bi bi-currency-dollar"></i>
          <span>{{ builder?.price | number }} $</span>
        </div>

      </div>

      <div class="builder-actions">
        <button class="btn-update" data-bs-toggle="modal" data-bs-target="#updatePriceModal">
          Update
        </button>

        <button class="btn-delete"
                data-bs-toggle="modal" data-bs-target="#deleteModal">
          Delete
        </button>
      </div>

    </div>

    <app-previous-button></app-previous-button>

  </div>

}


<div class="modal fade custom-modal" id="deleteModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header custom-header">
        <h5 class="modal-title">Delete Builder</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body text-center">
        <p class="modal-text">
          Are you sure you want to delete this builder?
        </p>
      </div>

      <div class="modal-footer custom-footer">
        <button type="button" class="btn-cancel" data-bs-dismiss="modal">
          Cancel
        </button>

        <button type="button" class="btn-delete-confirm">
          Delete
        </button>
      </div>

    </div>
  </div>
</div>

<div class="modal fade custom-modal" id="updatePriceModal" tabindex="-1">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <div class="modal-header custom-header">
        <h5 class="modal-title">Update Price</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
      </div>

      <div class="modal-body">

        <label class="form-label custom-label">New Price</label>

        <input type="number"
               class="form-control custom-input"
               placeholder="Enter new price" />

      </div>

      <div class="modal-footer custom-footer">
        <button type="button" class="btn-cancel" data-bs-dismiss="modal">
          Cancel
        </button>

        <button type="button" class="btn-update-confirm">
          Update
        </button>
      </div>

    </div>
  </div>
</div>


